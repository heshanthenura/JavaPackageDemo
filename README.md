# <h1 align="center">How To Package JavaFX Application</h1>


Discover how to package and distribute your JavaFX application seamlessly to clients or users, eliminating the need for them to pre-install the Java SDK

## Menu
### 1. Prerequisites
### 2. How to package and distribute
- ### Windows
- ### Linux
- ### MacOS

## 1. Prerequisites

### Read Below before start

* ### To proceed smoothly, ensure you have `Gradle` set up and configured for your project
* ### If Gradle isn't utilized, the process requires manually assembling a functional `JAR` file containing all essential dependencies, external JARs, as well as crucial assets and resources. This involves carefully bundling these components together to ensure the application operates seamlessly

### Make another java file to launch you JavaFX application

If your [main JavaFX application class](https://github.com/heshanthenura/JavaPackageDemo/blob/master/src/main/java/com/heshanthenura/packagedemo/MainApplication.java) is named ```MainApplication``` as seen here, create another Java file named [Launcher.java](https://github.com/heshanthenura/JavaPackageDemo/blob/master/src/main/java/com/heshanthenura/packagedemo/Launcher.java) and include the following code:
```
public class Launcher {
    public static void main(String[] args) {
        MainApplication.main(args);
    }
}
```
This [Launcher.java](https://github.com/heshanthenura/JavaPackageDemo/blob/master/src/main/java/com/heshanthenura/packagedemo/Launcher.java) file serves as an entry point to your JavaFX application

### Include the following code snippet in your [build.gradle](https://github.com/heshanthenura/JavaPackageDemo/blob/master/build.gradle) file to generate a standalone FatJar for your project

```
task customFatJar(type: Jar) {
    manifest {
        attributes 'Main-Class': 'com.heshanthenura.packagedemo.Launcher'
    }
    archiveBaseName = 'PackageDemoJAR'
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}
```
| Attribute                                                                                      | Description                                                                                                                                                                                                             |
|------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ```task customFatJar(type: Jar)```                                                             | Defines a new task named customFatJar of type Jar, indicating that this task will generate a JAR file                                                                                                                   |
| ```manifest { attributes 'Main-Class': 'com.heshanthenura.packagedemo.Launcher' }```           | Sets the Main-Class attribute in the JAR's manifest file to point to the Launcher class, which serves as the entry point of your application                                                                            |
| ```archiveBaseName = 'PackageDemoJAR'```                                                       | Specifies the base name for the generated JAR file as ```PackageDemoJAR```                                                                                                                                              |
| ```duplicatesStrategy = DuplicatesStrategy.EXCLUDE```                                          | Handles duplicate files encountered during the JAR creation process by excluding them                                                                                                                                   |
| ```from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }``` | Collects all dependencies from the runtime classpath and includes them in the JAR. ```configurations.runtimeClasspath``` gathers the project's runtime dependencies, and ```zipTree``` adds each dependency to the JAR. |
| ```with jar```                                                                                 | Includes the existing JAR file (if any) generated by the default ```jar``` task along with the assembled JAR containing dependencies                                                                                    |

This ```customFatJar``` task amalgamates your project's code and its dependencies into a single JAR file.Upon execution, the generated JAR file will be located in the following path: ```build/libs```

To validate the functionality of your JAR file, execute it using the command: ```java -jar <path to your JAR file>```. This command verifies the proper execution of your Java application encapsulated within the JAR

### Once all prerequisites are fulfilled, we can proceed with the packaging of the application

## 2. How to package and distribute
### To successfully package and distribute the application, leveraging the ```jpackage``` utility becomes essential for streamlining the process

```jpackage``` is generally included as part of the JDK starting from Java 14. However, in certain cases or older versions where it might not be bundled or available by default, you can manually download the JDK that includes ```jpackage``` from the official [Oracle](https://www.oracle.com/java/technologies/downloads/) or [OpenJDK](https://openjdk.org/) website.
Ensure you download a JDK version that explicitly mentions support for ```jpackage```. After downloading and installing the JDK, you should have access to the jpackage tool in the JDK's bin directory

### To confirm whether ```jpackage``` is installed on your system, run the command ```jpackage --help``` on CMD or Terminal. If installed, this command will display the help information for the ```jpackage``` utility, confirming its presence and functionality.